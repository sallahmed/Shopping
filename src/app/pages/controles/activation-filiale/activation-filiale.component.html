<h1><span *ngIf="controle.id">Activer le contrôle {{ controle.libelle }} pour d'autres entités</span></h1>
<div>
    <form [formGroup]="form" class="new-dysfonctionnement-form">
        <div fxLayout="column" fxLayoutGap="10px">
            <!--<mat-form-field  class="w-100" formGroupName="entite">-->
                <!--<mat-select placeholder="Entites" formControlName="id" required>
                    <mat-option *ngFor="let entite of entites" [value]="entite.id">
                        {{entite.libelle}}
                    </mat-option>
                </mat-select>-->

                <mat-slide-toggle *ngFor="let entite of entites"
                        class="toggle-setting"
                        name="{{entite.libelle}}"

                        (change)="onSettingChanged(setting, $event)">{{entite.libelle}}
                </mat-slide-toggle>
            <!--</mat-form-field>-->
        </div>
    </form>
    <!--<span *ngIf="isSavingError" class="red-text center error-message">{{ lblMessage }}</span>-->
</div>
<div  fxLayout="row" fxLayoutAlign="space-between center">
    <button mat-raised-button color="primary" (click)="save(form.value)" [disabled]="!form.valid"><span *ngIf="!controle.id">Enregistrer</span></button>
    <button mat-raised-button color="warn" (click)="close()">Annuler</button>
</div>

<div *ngIf="isSubmitted" fxLayout="column" fxLayoutAlign="center center" class="user-spinner">
    <mat-spinner color="primary"></mat-spinner>
</div>