<h1><span >Saisie</span> CA <span class="upper">par {{typeCA}}</span></h1>
<div>
    <form [formGroup]="form" class="saisie-ca-entite-form">
        <div fxLayout="row" fxLayoutGap="30px">
            <input matInput formControlName="id" hidden>
            <mat-form-field class="w-50" label="Entite" formGroupName="entite">
                <mat-select placeholder="Entite" formControlName="id" required>
                    <mat-option value="groupe">Groupe Sonatel</mat-option>
                    <mat-option *ngFor="let en of entites" [value]="en.id">
                        {{en.libelle}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
            <mat-form-field class="w-50" label="Domaine" *ngIf="typeCA === 'domaine'" formGroupName="domaine">
                <mat-select placeholder="Domaine" formControlName="id" required>
                    <mat-option value="">- Choisir le domaine -</mat-option>
                    <mat-option *ngFor="let dom of domaines" [value]="dom.id">
                        {{dom.libelle}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
            <mat-form-field class="w-50">
                <mat-select placeholder="Mois" formControlName="mois">
                    <mat-option [value]="1">Janvier</mat-option>
                    <mat-option [value]="2">Février</mat-option>
                    <mat-option [value]="3">Mars</mat-option>
                    <mat-option [value]="4">Avril</mat-option>
                    <mat-option [value]="5">Mai</mat-option>
                    <mat-option [value]="6">Juin</mat-option>
                    <mat-option [value]="7">Juillet</mat-option>
                    <mat-option [value]="8">Août</mat-option>
                    <mat-option [value]="9">Septembre</mat-option>
                    <mat-option [value]="10">Octobre</mat-option>
                    <mat-option [value]="11">Novembre</mat-option>
                    <mat-option [value]="12">Décembre</mat-option>
                </mat-select>
            </mat-form-field>
            <mat-form-field class="w-50">
                <mat-select placeholder="Année d'exercice" formControlName="annee">
                    <mat-option value="">- Choisir le domaine -</mat-option>
                    <mat-option *ngFor="let an of annees" [value]="an.annee">{{an.annee}}</mat-option>
                </mat-select>
            </mat-form-field>
            <mat-form-field class="w-50">
                <mat-placeholder><mat-icon>poll</mat-icon>CA Global</mat-placeholder>
                <input matInput type="number" min="0" formControlName="ca_global">
            </mat-form-field>
        </div>
    </form>
</div>
<div fxLayout="row" fxLayoutAlign="space-between center">
    <button mat-raised-button color="primary" (click)="saveCapital(form.value)" [disabled]="!form.valid"><span>Enregistrer</span></button>
    <button mat-raised-button color="warn" (click)="close()">Annuler</button>
</div>

<div *ngIf="isSubmitted" fxLayout="column" fxLayoutAlign="center center" class="user-spinner">
    <mat-spinner color="primary"></mat-spinner>
</div>
